 <!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
  <link rel="stylesheet" href="styles.css" />

  <style>
    button, .btn-main, .btn-secondary{
      transition: transform .08s ease, filter .12s ease, box-shadow .12s ease, opacity .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    button:active, .btn-main:active, .btn-secondary:active{
      transform: translateY(1px) scale(.99);
      filter: brightness(.98);
    }

    #tab10, #tab50, #tab100{ opacity: .95; }
    .tab-active{ opacity: 1 !important; }

    .actions{
      display:flex;
      flex-direction:column;
      gap:12px;
      margin-top:14px;
      align-items:stretch;
    }
    .actionItem{ display:block; }
    .actionHint{
      font-size: 14px;
      line-height: 1.35;
      opacity: .82;
      margin: 6px 6px 0 10px;
    }

    .soft-disabled{
      opacity: .72 !important;
      filter: saturate(.95) brightness(.92);
    }

    .with-lock{
      position: relative;
      padding-left: 44px !important;
    }
    .with-lock::before{
      content: "üîí";
      position:absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 18px;
      opacity: .9;
    }

    @keyframes softPulse {
      0%   { box-shadow: 0 0 0 0 rgba(255,210,90,.0); filter: brightness(1); }
      50%  { box-shadow: 0 0 0 6px rgba(255,210,90,.18); filter: brightness(1.06); }
      100% { box-shadow: 0 0 0 0 rgba(255,210,90,.0); filter: brightness(1); }
    }
    .pulse-once{
      animation: softPulse 1.1s ease-in-out 2;
    }

    .treeTitle{
      font-weight: 900;
      font-size: 28px;
      margin: 18px 0 10px;
      letter-spacing: .2px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1 style="margin-top:0;">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>

      <div class="note" id="whoNote" style="line-height:1.6;"></div>

      <!-- üîë –Ø–†–õ–´–ö ‚Äî –¢–û–õ–¨–ö–û –ó–î–ï–°–¨ -->
      <div class="box" style="margin-top:12px;">
        <div class="note">
          üí° –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã–≤–∞—Ç—å <b>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</b> –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º ‚Äî –¥–æ–±–∞–≤—å—Ç–µ —è—Ä–ª—ã–∫ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω.
          <br>
          <small>–ú–µ–Ω—é ‚ãÆ ‚Üí ¬´–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω¬ª</small>
        </div>
      </div>

      <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ª–∏–Ω–∏–π -->
      <div style="display:flex; gap:10px; margin:16px 0;">
        <button class="btn-secondary" id="tab10" type="button">10 ‚Ç¥</button>
        <button class="btn-secondary" id="tab50" type="button">50 ‚Ç¥</button>
        <button class="btn-secondary" id="tab100" type="button">100 ‚Ç¥</button>
      </div>

      <div class="note" id="lineTitle" style="margin-top:10px; font-weight:700;"></div>
      <div class="note" id="statusBox" style="margin-top:10px; line-height:1.6;"></div>

      <div class="actions" id="actionsBox">
        <div class="actionItem">
          <button class="btn-main" id="btnTake3" type="button" disabled>–ó–∞–Ω—è—Ç—å 3-–µ –º–µ—Å—Ç–æ</button>
          <div class="actionHint" id="hintTake3"></div>
        </div>

        <div class="actionItem">
          <button class="btn-main" id="btnConfirm" type="button" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–º–æ—â—å</button>
          <div class="actionHint" id="hintConfirm"></div>
        </div>

        <div class="actionItem">
          <button class="btn-main" id="btnReject" type="button" disabled>–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
          <div class="actionHint" id="hintReject"></div>
        </div>
      </div>

      <div id="joinBox" style="display:none; margin-top:16px;">
        <button class="btn-main" id="btnGoQueue" type="button">
          –ü–µ—Ä–µ–π—Ç–∏ –≤ ¬´–û—á–µ—Ä–µ–¥—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤¬ª
        </button>
      </div>

      <hr style="margin:18px 0; opacity:.25;" />

      <div>
        <div class="treeTitle">–î–µ—Ä–µ–≤–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö</div>
        <div class="note" id="treeBox" style="line-height:1.6;"></div>
      </div>

      <hr style="margin:18px 0; opacity:.25;" />

      <div class="actions">
        <button class="btn-secondary" id="btnPromo" type="button">–†–µ–∫–ª–∞–º–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</button>
        <button class="btn-secondary" id="btnBackQueue" type="button">–û—á–µ—Ä–µ–¥—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</button>
      </div>

      <div class="note" id="msg" style="margin-top:12px;"></div>
    </div>
  </div>

<script>
/* JS ‚Äî –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô –õ–û–ì–ò–ö–ò */
const qs = (s) => document.querySelector(s);
const LINES = [10,50,100];
const KEY_ACTIVE_LINE="active_line",KEY_MY_ID="my_id",KEY_REF_OWNER="ref_owner",KEY_STATE="cabinet_state";

function readState(){try{return JSON.parse(localStorage.getItem(KEY_STATE)||"{}")}catch{return{}}}
function writeState(s){localStorage.setItem(KEY_STATE,JSON.stringify(s))}
function ensureDefaults(){
 const s=readState(); if(!s.lines)s.lines={}
 for(const l of LINES){
  if(!s.lines[l])s.lines[l]={status:"none",tree:{level1:[],level2:[]}}
 }
 writeState(s)
}
function render(){/* —Ç–≤–æ—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ ‚Äî –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ */}
ensureDefaults();
</script>
</body>
</html>

